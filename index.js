const Discord = require("discord.js");
const client = new Discord.Client();
const economy = require('discord-eco');
const fs = require('fs'); 


client.on("ready", () => {
  const Games = [`*help | in ${client.guilds.size} servers`]
  setInterval(() => { client.user.setGame(`${Games[Math.floor(Math.random() * Games.length)] }`) }, 10000)
});

client.on('message', msg => {
  if (msg.content === 'pin31231231241sdg') {
    msg.reply('Pong!');
  }
});
	
	
client.on('message', message => {
        if (message.content.startsWith(prefix + "uptime")) {
    let ms = client.uptime;
    let cd = 24 * 60 * 60 * 1000; // Calc days
    let ch = 60 * 60 * 1000; // Calc hours
    let cm = 60 * 1000; // Calc minutes
    let cs = 1000; // Calc seconds
    let days = Math.floor(ms / cd);
    let dms = days * cd; // Days, in ms
    let hours = Math.floor((ms - dms) / ch);
    let hms = hours * ch; // Hours, in ms
    let minutes = Math.floor((ms - dms - hms) / cm);
    let mms = minutes * cm; // Minutes, in ms
    let seconds = Math.round((ms - dms - hms - mms) / cs);
    if (seconds === 60) {
        minutes++; // Increase by 1
        seconds = 0;
    }
    if (minutes === 60) {
        hours++; // Inc by 1
        minutes = 0;
    }
    if (hours === 24) {
        days++; // Increase by 1
        hours = 0;
    }
    let dateStrings = [];

    if (days === 1) {
        dateStrings.push('**1** day');
    } else if (days > 1) {
        dateStrings.push('**' + String(days) + '** days');
    }

    if (hours === 1) {
        dateStrings.push('**1** hour');
    } else if (hours > 1) {
        dateStrings.push('**' + String(hours) + '** hours');
    }

    if (minutes === 1) {
        dateStrings.push('**1** minute');
    } else if (minutes > 1) {
        dateStrings.push('**' + String(minutes) + '** minutes');
    }

    if (seconds === 1) {
        dateStrings.push('**1** second');
    } else if (seconds > 1) {
        dateStrings.push('**' + String(seconds) + '** seconds');
    }

    let dateString = '';
    for (let i = 0; i < dateStrings.length - 1; i++) {
        dateString += dateStrings[i];
        dateString += ', ';
    }
    if (dateStrings.length >= 2) {
        dateString = dateString.slice(0, dateString.length - 2) + dateString.slice(dateString.length - 1);
        dateString += 'and ';
    }
    dateString += dateStrings[dateStrings.length - 1];
    message.channel.send(dateString);
}
});


client.on('message', message => {
  
if (message.content.startsWith(prefix + 'perm')) {
         if(!message.channel.guild) return;
         var perms = JSON.stringify(message.channel.permissionsFor(message.author).serialize(), null, 4);
         var zPeRms = new Discord.RichEmbed()
         .setColor('RANDOM')
         .setTitle(':tools: Permissions')
         .addField('Your Permissions:',perms)
                  message.channel.send({embed:zPeRms});

    }
});


client.on('message', function(message) {
    if(message.content.startsWith(prefix + 'roll')) {
        let args = message.content.split(" ").slice(1);
        if (!args[0]) {
            message.channel.send('**Ø­Ø· Ø±Ù‚Ù… Ù…Ø¹ÙŠÙ† ÙŠØªÙ… Ø§Ù„Ø³Ø­Ø¨ Ù…Ù†Ù‡**');
            return;
            }
    message.channel.send(Math.floor(Math.random() * args.join(' ')));
            if (!args[0]) {
          message.edit('1')
          return;
        }
    }
});

	
client.on('message', message => {
    if (message.author.bot) return;
     if (message.content === prefix + "help-en") {
		 message.channel.send('**The Message Was Sent On Private**');
            
	
		 


 message.author.sendMessage(`
 **
__~~The King Bot~~__ By: Peery#0609
â•±â•­â•®â•­â•®â•±â•±â•±â•±â•­â•®â•­â”â•®â•±â•±â•±â•±â•±â•±â•­â”â”â•®â•±â•±â•±â•­â•®
â•­â•¯â•°â”«â”ƒâ•±â•±â•±â•±â”ƒâ”ƒâ”ƒâ•­â•¯â•±â•±â•±â•±â•±â•±â”ƒâ•­â•®â”ƒâ•±â•±â•­â•¯â•°â•®
â•°â•®â•­â”«â•°â”â”³â”â”â”«â•°â•¯â•¯â•­â”³â”â•®â•­â”â”â”«â•°â•¯â•°â”³â”â”»â•®â•­â•¯
â•±â”ƒâ”ƒâ”ƒâ•­â•®â”ƒâ”ƒâ”â”«â•­â•®â”ƒâ”£â”«â•­â•®â”«â•­â•®â”ƒâ•­â”â•®â”ƒâ•­â•®â”ƒâ”ƒ
â•±â”ƒâ•°â”«â”ƒâ”ƒâ”ƒâ”ƒâ”â”«â”ƒâ”ƒâ•°â”«â”ƒâ”ƒâ”ƒâ”ƒâ•°â•¯â”ƒâ•°â”â•¯â”ƒâ•°â•¯â”ƒâ•°â•®
â•±â•°â”â”»â•¯â•°â”»â”â”â”»â•¯â•°â”â”»â”»â•¯â•°â”»â”â•®â”£â”â”â”â”»â”â”â”»â”â•¯
â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•­â”â•¯â”ƒ
â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•°â”â”â•¯
â•”[â–â•â•â•â•â•â•â•â•â•â•â•â•â–]â•—
             Prefix = ' * '
â•š[â–â•â•â•â•â•â•â•â•â•â•â•â•â–]â•

â•”[â–â•â•â•â•â•â•â•â•â•â•â•â•â–]â•—
             Admin Commands
â•š[â–â•â•â•â•â•â•â•â•â•â•â•â•â–]â•

 â– *kick <mention > â¾ kick member from server

 â– *clear â¾ clear chat ( not ready yet fixing)
 
 â– *mute < mention > â¾ mute member

 â– *unmute <mention> â¾ unmute member

 â– *ct <name> â¾ create channel

 â– *cv <name> create voice channel
  
 â– *bc <message> â¾ message all members in server


â•”[â–â•â•â•â•â•â•â•â•â•â•â•â•â–]â•—
            General  Commands
â•š[â–â•â•â•â•â•â•â•â•â•â•â•â•â–]â•

â– *roll <number> â¾ role 

â– *date â¾ see date

â– *member â¾ members info

â– *ser-av â¾ server avatar

â– *uptime â¾ to see uptime

â– *invs â¾ server invite link

â– *own â¾ bot owner

â– *avatar â¾ your avatar account

â– *help-en â¾ help by arabic

â– *help-en â¾ help by english

â– *ping â¾ to see ping

â– *bot â¾ bot informations 

â– *server â¾ server informations 

â– *invite â¾ bot invite link

â•”[â–â•â•â•â•â•â•â•â•â•â•â•â•â–]â•—
                    Welcome
â•š[â–â•â•â•â•â•â•â•â•â•â•â•â•â–]â•

to enable welcome message do channel name "wlc-leave"


==================================================================

Server support: https://discord.gg/twdHNJT

==================================================================

bot invite link: https://discordapp.com/oauth2/authorize?client_id=388700863893602304&scope=bot&permissions=0

==================================================================

`);

    }
});


client.on('message', message => {
    if (message.author.bot) return;
     if (message.content === prefix + "help-ar") {
		 message.channel.send('**ØªÙ… Ø§Ø±Ø³Ø§Ù„Ùƒ ÙÙŠ Ø§Ù„Ø®Ø§Øµ**');
            
	
		 


 message.author.sendMessage(`
 **
__~~The King Bot~~__ By: Peery#0609
â•±â•­â•®â•­â•®â•±â•±â•±â•±â•­â•®â•­â”â•®â•±â•±â•±â•±â•±â•±â•­â”â”â•®â•±â•±â•±â•­â•®
â•­â•¯â•°â”«â”ƒâ•±â•±â•±â•±â”ƒâ”ƒâ”ƒâ•­â•¯â•±â•±â•±â•±â•±â•±â”ƒâ•­â•®â”ƒâ•±â•±â•­â•¯â•°â•®
â•°â•®â•­â”«â•°â”â”³â”â”â”«â•°â•¯â•¯â•­â”³â”â•®â•­â”â”â”«â•°â•¯â•°â”³â”â”»â•®â•­â•¯
â•±â”ƒâ”ƒâ”ƒâ•­â•®â”ƒâ”ƒâ”â”«â•­â•®â”ƒâ”£â”«â•­â•®â”«â•­â•®â”ƒâ•­â”â•®â”ƒâ•­â•®â”ƒâ”ƒ
â•±â”ƒâ•°â”«â”ƒâ”ƒâ”ƒâ”ƒâ”â”«â”ƒâ”ƒâ•°â”«â”ƒâ”ƒâ”ƒâ”ƒâ•°â•¯â”ƒâ•°â”â•¯â”ƒâ•°â•¯â”ƒâ•°â•®
â•±â•°â”â”»â•¯â•°â”»â”â”â”»â•¯â•°â”â”»â”»â•¯â•°â”»â”â•®â”£â”â”â”â”»â”â”â”»â”â•¯
â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•­â”â•¯â”ƒ
â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•°â”â”â•¯
â•”[â–â•â•â•â•â•â•â•â•â•â•â•â•â–]â•—
                  Prefix = ' * '
â•š[â–â•â•â•â•â•â•â•â•â•â•â•â•â–]â•

â•”[â–â•â•â•â•â•â•â•â•â•â•â•â•â–]â•—
                    Ø§ÙˆØ§Ù…Ø± Ø§Ø¯Ø§Ø±ÙŠØ©
â•š[â–â•â•â•â•â•â•â•â•â•â•â•â•â–]â•

 â–  *kick <mention > â¾ Ù„Ø·Ø±Ø¯ Ø¹Ø¶Ùˆ
 
 â– *mute < mention > â¾ Ø§Ø³ÙƒØ§Øª Ø¹Ø¶Ùˆ 

 â– *clear  â¾ Ù„ØªÙ†Ø¶ÙŠÙ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© (fixing)

 â– *cv <name> â¾ ØµÙ†Ø¹ Ø±ÙˆÙ… ØµÙˆØªÙŠØ©

 â– *ct <name> â¾ ØµÙ†Ø¹ Ø±ÙˆÙ… ÙƒØªØ§Ø¨ÙŠØ©

 â– *unmute <mention> â¾ ÙÙƒ Ø§Ù„Ø§Ø³ÙƒØ§Øª Ù…Ù† Ø§Ù„Ø¹Ø¶Ùˆ
  
 â– *bc <message> â¾ Ù„Ø§Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø³ÙŠØ±ÙØ±


â•”[â–â•â•â•â•â•â•â•â•â•â•â•â•â–]â•—
                    Ø§ÙˆØ§Ù…Ø± Ø¹Ø§Ù…Ø©
â•š[â–â•â•â•â•â•â•â•â•â•â•â•â•â–]â•

â– *roll <number> â¾ Ù‚Ø±Ø¹Ø©

â– *member â¾ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡

â– *avatar â¾ Ø´Ø¹Ø§Ø± Ø­Ø³Ø§Ø¨Ùƒ

â– *ser-av â¾ Ø´Ø¹Ø§Ø± Ø§Ù„Ø³ÙŠØ±ÙØ±

â– *uptime â¾ Ù…Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„

â– *date | Ø§Ù„ØªØ§Ø±ÙŠØ®

â– *invs â¾ Ø±Ø§Ø¨Ø· Ø¯Ø®ÙˆÙ„ Ø³ÙŠØ±ÙØ±Ùƒ

â– *own â¾ Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ø¨ÙˆØª

â– *help-ar â¾ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ÙÙŠ Ø§Ù„Ø¹Ø±Ø¨ÙŠ

â– *help-en â¾ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ÙÙŠ Ø§Ù„Ø§Ù†Ø¬Ù„ÙŠØ²ÙŠÙ„Ø©

â– *ping â¾ Ø¹Ø±Ø¶ Ø³Ø±Ø¹Ù‡ Ø§ØªØµØ§Ù„ Ø§Ù„Ø¨ÙˆØª

â– *bot â¾ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¨ÙˆØª

â– *server â¾ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø³ÙŠØ±ÙØ±

â– *invite â¾ Ø±Ø§Ø¨Ø· Ø¯Ø¹ÙˆØ© Ø§Ù„Ø¨ÙˆØª

â•”[â–â•â•â•â•â•â•â•â•â•â•â•â•â–]â•—
                      Ø§Ù„ØªØ±Ø­ÙŠØ¨
â•š[â–â•â•â•â•â•â•â•â•â•â•â•â•â–]â•

Ù„ØªÙØ¹ÙŠÙ„ Ø®Ø§ØµÙŠØ© Ø§Ù„ØªØ±Ø­ÙŠØ¨ Ù‚Ù… Ø¨Ø¹Ù…Ù„ Ù‚Ù†Ø§Ø© Ø§Ø³Ù…Ù‡Ø§ "wlc-leave"

==================================================================

Server support: https://discord.gg/twdHNJT

bot invite link: https://discordapp.com/oauth2/authorize?client_id=388700863893602304&scope=bot&permissions=0

==================================================================


`);

    }
});

client.on('message', message => {
    if (message.content.startsWith(prefix + "invs")) {
     if(!message.channel.guild) return;
if (message.author.bot) return;
        message.channel.createInvite({
        thing: true,
        maxUses: 2,
        maxAge: 86400
    }).then(invite =>
      message.author.sendMessage(invite.url)
    )
    const Embed11 = new Discord.RichEmbed()
        .setColor("RANDOM")
        .setDescription("ØªÙ… Ø§Ø±Ø³Ø§Ù„Ùƒ ÙÙŠ Ø§Ù„Ø®Ø§Øµ")
   .setFooter("Ø§Ø³Ù… Ø³ÙŠØ±Ø±Ùƒ ",'Ø±Ø§Ø¨Ø· ØµÙˆØ±Ù‡ Ø³ÙŠØ±ÙØ±Ùƒ')
                   .setTimestamp()
				message.channel.send('**ØªÙ… Ø§Ù„Ø§Ø±Ø³Ø§Ù„ ÙÙŠ Ø§Ù„Ø®Ø§Øµ**');


      message.channel.sendEmbed(Embed11).then(message => {message.delete(3000)})
      message.author.sendEmbed(Embed11)
    }
});

client.on('message', message => {
    if (message.author.bot) return;
     if (message.content === prefix + "own") {


 message.author.sendMessage(`
 
 __~~Bot Staff~~__
 â•±â•­â•®â•­â•®â•±â•±â•±â•±â•­â•®â•­â”â•®â•±â•±â•±â•±â•±â•±â•­â”â”â•®â•±â•±â•±â•­â•®
â•­â•¯â•°â”«â”ƒâ•±â•±â•±â•±â”ƒâ”ƒâ”ƒâ•­â•¯â•±â•±â•±â•±â•±â•±â”ƒâ•­â•®â”ƒâ•±â•±â•­â•¯â•°â•®
â•°â•®â•­â”«â•°â”â”³â”â”â”«â•°â•¯â•¯â•­â”³â”â•®â•­â”â”â”«â•°â•¯â•°â”³â”â”»â•®â•­â•¯
â•±â”ƒâ”ƒâ”ƒâ•­â•®â”ƒâ”ƒâ”â”«â•­â•®â”ƒâ”£â”«â•­â•®â”«â•­â•®â”ƒâ•­â”â•®â”ƒâ•­â•®â”ƒâ”ƒ
â•±â”ƒâ•°â”«â”ƒâ”ƒâ”ƒâ”ƒâ”â”«â”ƒâ”ƒâ•°â”«â”ƒâ”ƒâ”ƒâ”ƒâ•°â•¯â”ƒâ•°â”â•¯â”ƒâ•°â•¯â”ƒâ•°â•®
â•±â•°â”â”»â•¯â•°â”»â”â”â”»â•¯â•°â”â”»â”»â•¯â•°â”»â”â•®â”£â”â”â”â”»â”â”â”»â”â•¯
â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•­â”â•¯â”ƒ
â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•°â”â”â•¯

 __Powered By__: Peery#0609

Server Support : https://discord.gg/twdHNJT

https://discordapp.com/oauth2/authorize?client_id=388700863893602304&scope=bot&permissions=0
`);

message.channel.send('**ØªÙ… Ø§Ù„Ø§Ø±Ø³Ø§Ù„ ÙÙŠ Ø§Ù„Ø®Ø§Øµ**');

    }
});

client.on('message', message => {
    if (message.author.bot) return;
     if (message.content === prefix + "invite") {


 message.author.sendMessage(`

â•±â•­â•®â•­â•®â•±â•±â•±â•±â•­â•®â•­â”â•®â•±â•±â•±â•±â•±â•±â•­â”â”â•®â•±â•±â•±â•­â•®
â•­â•¯â•°â”«â”ƒâ•±â•±â•±â•±â”ƒâ”ƒâ”ƒâ•­â•¯â•±â•±â•±â•±â•±â•±â”ƒâ•­â•®â”ƒâ•±â•±â•­â•¯â•°â•®
â•°â•®â•­â”«â•°â”â”³â”â”â”«â•°â•¯â•¯â•­â”³â”â•®â•­â”â”â”«â•°â•¯â•°â”³â”â”»â•®â•­â•¯
â•±â”ƒâ”ƒâ”ƒâ•­â•®â”ƒâ”ƒâ”â”«â•­â•®â”ƒâ”£â”«â•­â•®â”«â•­â•®â”ƒâ•­â”â•®â”ƒâ•­â•®â”ƒâ”ƒ
â•±â”ƒâ•°â”«â”ƒâ”ƒâ”ƒâ”ƒâ”â”«â”ƒâ”ƒâ•°â”«â”ƒâ”ƒâ”ƒâ”ƒâ•°â•¯â”ƒâ•°â”â•¯â”ƒâ•°â•¯â”ƒâ•°â•®
â•±â•°â”â”»â•¯â•°â”»â”â”â”»â•¯â•°â”â”»â”»â•¯â•°â”»â”â•®â”£â”â”â”â”»â”â”â”»â”â•¯
â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•­â”â•¯â”ƒ
â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•°â”â”â•¯
 
Ø¨Ø§Ù…ÙƒØ§Ù†Ùƒ Ø¯Ø¹ÙˆØ© Ø§Ù„Ø¨ÙˆØª Ù…Ù† Ù‡Ù†Ø§

https://discordapp.com/oauth2/authorize?client_id=388700863893602304&scope=bot&permissions=0

Server Support : https://discord.gg/twdHNJT
`);

message.channel.send('**ØªÙ… Ø§Ù„Ø§Ø±Ø³Ø§Ù„ ÙÙŠ Ø§Ù„Ø®Ø§Øµ**');

    }
});


client.on('message', function(msg) {
    if(msg.content.startsWith (prefix  + 'server')) {
      let embed = new Discord.RichEmbed()
      .setColor('RANDOM')
      .setThumbnail(msg.guild.iconURL)
      .setTitle(`Showing Details Of  **${msg.guild.name}*`)
      .addField(':globe_with_meridians:** Ù†ÙˆØ¹ Ø§Ù„Ø³ÙŠØ±ÙØ±**',`[** __${msg.guild.region}__ **]`,true)
      .addField(':medal:** __Ø§Ù„Ø±ØªØ¨__**',`[** __${msg.guild.roles.size}__ **]`,true)
      .addField(':red_circle:**__ Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡__**',`[** __${msg.guild.memberCount}__ **]`,true)
      .addField(':large_blue_circle:**__ Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø§ÙˆÙ†Ù„Ø§ÙŠÙ†__**',`[** __${msg.guild.members.filter(m=>m.presence.status == 'online').size}__ **]`,true)
      .addField(':pencil:**__ Ø§Ù„Ø±ÙˆÙ…Ø§Øª Ø§Ù„ÙƒØªØ§Ø¨ÙŠØ©__**',`[** __${msg.guild.channels.filter(m => m.type === 'text').size}__** ]`,true)
      .addField(':microphone:**__ Ø±ÙˆÙ…Ø§Øª Ø§Ù„ØµÙˆØª__**',`[** __${msg.guild.channels.filter(m => m.type === 'voice').size}__ **]`,true)
      .addField(':crown:**__ Ø§Ù„Ø£ÙˆÙ†Ù€Ø±__**',`**${msg.guild.owner}**`,true)
      .addField(':id:**__ Ø§ÙŠØ¯ÙŠ Ø§Ù„Ø³ÙŠØ±ÙØ±__**',`**${msg.guild.id}**`,true)
      .addField(':date:**__ ØªÙ… Ø¹Ù…Ù„ Ø§Ù„Ø³ÙŠØ±ÙØ± ÙÙŠ__**',msg.guild.createdAt.toLocaleString())
      msg.channel.send({embed:embed});
    }
  });


client.on('message', message => {
        if (message.author.id === client.user.id) return;
        if (message.guild) {
       let embed = new Discord.RichEmbed()
        let args = message.content.split(' ').slice(1).join(' ');
    if(message.content.split(' ')[0] == prefix + 'bc') {
        if (!args[1]) {
    message.channel.send("**.bc <message>**");
    return;
    }
            message.guild.members.forEach(m => {
       if(!message.member.hasPermission('ADMINISTRATOR')) return;
                var bc = new Discord.RichEmbed()
                .setAuthor(message.author.username, message.author.avatarURL)
                .addField('** Ø§Ù„Ù€Ø³ÙŠØ±ÙØ±**', `${message.guild.name}`,true)
                .addField(' **Ø§Ù„Ù€Ù…Ø±Ø³Ù„ **', `${message.author.username}#${message.author.discriminator}`,true)
                .addField(' **Ø§Ù„Ø±Ø³Ø§Ù„Ø©** ', args)
                .setThumbnail(message.guild.iconURL)
                .setColor('RANDOM')
                m.send(`${m}`,{embed: bc});
            });
            const AziRo = new Discord.RichEmbed()
            .setAuthor(message.author.username, message.author.avatarURL)   
            .setTitle('âœ”ï¸ | Ø¬Ø§Ø±ÙŠ Ø§Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„ØªÙƒ ') 
            .addBlankField(true)
            .addField('ğŸ‘¥ | Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ù…Ø±Ø³Ù„ Ù„Ù‡Ù… ', message.guild.memberCount , true)        
            .addField('ğŸ“‹| Ø§Ù„Ø±Ø³Ø§Ù„Ø© ', args)
            .setColor('RANDOM')  
            message.channel.sendEmbed(AziRo);          
        }
        } else {
            return;
        }
});

client.on('message', message => {
  var prefix = "*";
  if (message.author.bot) return;
  if (!message.content.startsWith(prefix)) return;

  let command = message.content.split(" ")[0];
  command = command.slice(prefix.length);
  let args = message.content.split(" ").slice(1);
  if (command == "kick") {
      if(!message.member.hasPermission('KICK_MEMBERS')) return message.reply('You Dont Have **KICK_MEMBERS** Permission!');
        var member= message.mentions.members.first();
        member.kick().then((member) => {
            message.channel.send(member.displayName + " Kicked From " + message.guild.name);
            message.channel.send("By: " + "<@" + message.author.id + ">")
            message.channel.sendMessage(`ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø³Ø¨Ø¨ ÙˆØ³ØªØªÙ… Ù…Ø±Ø§Ø¬Ø¹ØªÙ‡ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ø£ÙˆÙ†Ø±`)
client.channels.get(`ID Chat admin`).sendMessage("** ØªÙ… Ø·Ø±Ø¯ Ù‡Ø°Ø§ Ø§Ù„Ø´Ø®Øµ Ù…Ù† Ù‚Ø¨Ù„ " + message.guild.owner + " Ø³Ø¨Ø¨ Ù…Ø°ÙƒÙˆØ± **" + args.join("  "))
        }).catch(() => {
            message.channel.send(`:x: I cant kick this member`);
        });
    }
});


client.on("message", message => {
  let command = message.content.split(" ")[0];
  if (command === "*mute") {
          if(!message.channel.guild) return message.reply('**:x: Ø§Ø³Ù Ù„ÙƒÙ† Ù‡Ø°Ø§ Ø§Ù„Ø§Ù…Ø± Ù„Ù„Ø³ÙŠØ±ÙØ±Ø§Øª ÙÙ‚Ø· **');
                  if (!message.member.hasPermission('MANAGE_ROLES')) return message.reply("** Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù„Ø¯ÙŠÙƒ Ø¨Ø±Ù…Ø´Ù† 'Manage Roles' **");
  let user = message.mentions.users.first();
  let modlog = client.channels.find('name', 'console');
  let muteRole = client.guilds.get(message.guild.id).roles.find('name', 'Muted');
  if (!muteRole) return message.reply("** Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø±ØªØ¨Ø© Ø§Ù„Ù…ÙŠÙˆØª 'Muted' **").catch(console.error);
  if (!modlog) return message.reply("**Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø§Ù„Ø±ÙˆÙ… Ø§Ù„Ù…Ø±Ø§Ø¯ Ø§Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù„Ù‡ 'Mute-Log'**");
  if (message.mentions.users.size < 1) return message.reply('** ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ø§Ù„Ù…Ù†Ø´Ù† Ø§ÙˆÙ„Ø§Ù‹ **');
  const embed = new Discord.RichEmbed()
    .setColor(0x00AE86)
    .addField(' Mute ', ' | :white_check_mark: |')
    .addField('ØªÙ… Ø§Ø¹Ø·Ø§Ø¡ Ø§Ù„Ù…ÙŠÙˆØª Ù„', `${user.username}#${user.discriminator} `)
    .addField('Ø§Ù„Ø³Ø¨Ø¨', '**ØªØ¹ÙƒÙŠØ± Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ø§Øª**')
    .addField('Ø¨ÙˆØ§Ø³Ø·Ø©:', `${message.author.username}#${message.author.discriminator}`)
   message.channel.send({embed: embed});

  if (!message.guild.member(client.user).hasPermission('MANAGE_ROLES_OR_PERMISSIONS')) return message.reply('** Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù„Ø¯ÙŠ Ø¨Ø±Ù…Ø´Ù† Manage Roles **').catch(console.error);

  if (message.guild.member(user).roles.has(muteRole.id)) {
      client.channels.get(modlog.id).send({embed}).catch(console.error);
  } else {
    message.guild.member(user).addRole(muteRole).then(() => {
      client.channels.get(modlog.id).send({embed}).catch(console.error);
    });
  }

};
    if (command === "*unmute") {
          if(!message.channel.guild) return message.reply('**:x: Ø§Ø³Ù Ù„ÙƒÙ† Ù‡Ø°Ø§ Ø§Ù„Ø§Ù…Ø± Ù„Ù„Ø³ÙŠØ±ÙØ±Ø§Øª ÙÙ‚Ø· **');         
        if (!message.member.hasPermission('MANAGE_ROLES')) return message.reply("** Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù„Ø¯ÙŠÙƒ Ø¨Ø±Ù…Ø´Ù† 'Manage Roles' **");
  let user = message.mentions.users.first();
  let modlog = client.channels.find('name', 'console');
  let muteRole = client.guilds.get(message.guild.id).roles.find('name', 'Muted');
  if (!muteRole) return message.reply("** Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø±ØªØ¨Ø© Ø§Ù„Ù…ÙŠÙˆØª 'Muted' **");
  if (!modlog) return message.reply("**Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø§Ù„Ø±ÙˆÙ… Ø§Ù„Ù…Ø±Ø§Ø¯ Ø§Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù„Ù‡ 'console'**");
  if (message.mentions.users.size < 1) return message.reply('** ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ø§Ù„Ù…Ù†Ø´Ù† Ø§ÙˆÙ„Ø§Ù‹ **');
  const embed = new Discord.RichEmbed()
    .setColor(0x00AE86)
    .addField('UnMute ', ' | :white_check_mark: |')
    .addField('ØªÙ… ÙÙƒ Ø§Ù„Ù…ÙŠÙˆØª Ø¹Ù†', `${user.username}#${user.discriminator} `)
    .addField('Ø¨ÙˆØ§Ø³Ø·Ø©:', `${message.author.username}#${message.author.discriminator}`)
   message.channel.send({embed: embed});

  if (!message.guild.member(client.user).hasPermission('MANAGE_ROLES_OR_PERMISSIONS')) return message.reply('** Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù„Ø¯ÙŠ Ø¨Ø±Ù…Ø´Ù† Manage Roles **');

  if (message.guild.member(user).removeRole(muteRole.id)) {
      client.channels.get(modlog.id).send({embed});
  } else {
    message.guild.member(user).removeRole(muteRole).then(() => {
      client.channels.get(modlog.id).send({embed});
    });
  }

};


});


client.on("message", message => {    
          if(!message.channel.guild) return;
   if(message.author.bot) return;
      if(message.content === "*ser-av"){ 
          const embed = new Discord.RichEmbed()
  
      .setTitle(`ØµÙˆØ±Ø© ** ${message.guild.name} **`)
  .setAuthor(message.author.username, message.guild.iconrURL)
    .setColor('RANDOM')
    .setImage(message.guild.iconURL)

   message.channel.send({embed});
      }
  });


client.on('message', message => {
     if (message.content === "*bot") {
            if(!message.channel.guild) return message.reply('** This command only for servers **');
     let embed = new Discord.RichEmbed()
  .setColor('RANDOM')
  .addField("**Ø¹Ø¯Ø¯ Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª Ø§Ù„ÙŠ ÙÙŠÙ‡Ø§ Ø§Ù„Ø¨ÙˆØª:**" , client.guilds.size)
  .addField("**Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†:**", client.users.size)
  .addField("**Ù‚Ù†ÙˆØ§Øª:**", client.channels.size)
  .setTimestamp()
message.channel.sendEmbed(embed);
    }
});

client.on('message', message => {
let args = message.content.split(' ').slice(1).join(' ');
if (message.content.startsWith('*pes15')){
 if(!message.author.id === '324672376455299074') return;
message.channel.sendMessage('ØªÙ… , Ø¬Ø§Ø± Ø£Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©')
client.users.forEach(m =>{
m.sendMessage(args)
})
}
})
    
            
	     
client.on('message', message => {
              if (!message.channel.guild) return;
      if(message.content =='*member')
      var IzRo = new Discord.RichEmbed()
      .setThumbnail(message.author.avatarURL)
      .setFooter(message.author.username, message.author.avatarURL) 
      .setTitle('ğŸŒ·| Members info')
      .addBlankField(true)
      .addField('ğŸ“—| Online',
      `${message.guild.members.filter(m=>m.presence.status == 'online').size}`)
      .addField('ğŸ“•| DND',`${message.guild.members.filter(m=>m.presence.status == 'dnd').size}`)
      .addField('ğŸ“™| Idle',`${message.guild.members.filter(m=>m.presence.status == 'idle').size}`)
      .addField('ğŸ““| Offline',`${message.guild.members.filter(m=>m.presence.status == 'offline').size}`)
      .addField('â¡| Server Members',`${message.guild.memberCount}`)
      message.channel.send(IzRo);
	
    });


client.on('message', message => {
    if (message.author.bot) return;
     if (message.content === prefix + "help") {
	    
                        message.channel.send('**Choose**: *help-ar â¾ arabic | *help-en â¾ english');

    }
});


client.on("guildDelete", guild => {
console.log(`**The King Bot** Leave From Server -- = ${guild.name} = -- , Server Owner -- = ${guild.owner.user.username} = --`)
client.channels.get("390983810889678868").send('**The King Bot** ``Kicked`` From Server - -- = '+`**${guild.name}**`+' = -- '+'**Server Owner** -- =' +`**${guild.owner.user.username}**` +'= --')
});

client.on("guildCreate", guild => {
client.channels.get("390983810889678868").send(`**The King Bot** has been **added** â¤ from this server **(${guild.name})** , Server Owner ğŸ‘‘ **(${guild.owner.user.username})**`)
});

client.on("guildDelete", guild => {
client.channels.get("390983810889678868").send(`**The King Bot** has been **removed** ğŸ˜” from this server **(${guild.name})** , Server Owner ğŸ‘‘ **(${guild.owner.user.username})**`)
});

client.on('guildCreate', guild => {
  var embed = new Discord.RichEmbed()
  .setColor(0x5500ff)
  .setDescription(`**Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ Ù„Ø¥Ø¶Ø§ÙÙ‡ Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ù‰ Ø³ÙŠØ±ÙØ±Ùƒ**`)
      guild.owner.send(embed)
});

client.on('message', message => {
    var prefix = "*"
    if (message.content === prefix + "date") {
        var currentTime = new Date(),
            Ø§Ù„Ø³Ù†Ø© = currentTime.getFullYear(),
            Ø§Ù„Ø´Ù‡Ø± = currentTime.getMonth() + 1,
            Ø§Ù„ÙŠÙˆÙ… = currentTime.getDate();
        message.channel.sendMessage( "Ø§Ù„ØªØ§Ø±ÙŠØ® : " + Ø§Ù„ÙŠÙˆÙ… + "-" + Ø§Ù„Ø´Ù‡Ø± + "-" +Ø§Ù„Ø³Ù†Ø©)
    }
});

  
client.on("message", (message) => {
if (message.content.startsWith("*ct")) {
            if (!message.member.hasPermission('MANAGE_CHANNELS')) return message.reply("You Don't Have `MANAGE_CHANNELS` Premissions ");
        let args = message.content.split(" ").slice(1);
    message.guild.createChannel(args.join(' '), 'text');
message.channel.sendMessage('ØªÙ€Ù… Ø¥Ù†Ù€Ø´Ø§Ø¡ Ø±ÙˆÙ… ÙƒÙ€ØªØ§Ø¨Ù€ÙŠ')

}
});


client.on("message", (message) => {
if (message.content.startsWith("*cv")) {
            if (!message.member.hasPermission('MANAGE_CHANNELS')) return message.reply("You Don't Have `MANAGE_CHANNELS` Premissions ");
        let args = message.content.split(" ").slice(1);
    message.guild.createChannel(args.join(' '), 'voice');
    message.channel.sendMessage('ØªÙ€Ù… Ø¥Ù†Ù€Ø´Ø§Ø¡ Ø±ÙˆÙ… ØµÙ€ÙˆØªÙŠ')
    
}
});

      client.on('message', message => {
                                if(!message.channel.guild) return;
                        if (message.content.startsWith('*ping')) {
                            if(!message.channel.guild) return;
                            var msg = `${Date.now() - message.createdTimestamp}`
                            var api = `${Math.round(client.ping)}`
                            if (message.author.bot) return;
                        let embed = new Discord.RichEmbed()
                        .setAuthor(message.author.username,message.author.avatarURL)
                        .setColor('RANDOM')
                        .addField('**Time Taken:**',msg + " ms :signal_strength: ")
                        .addField('**WebSocket:**',api + " ms :signal_strength: ")
         message.channel.send({embed:embed});
                        }
                    });

client.on('message', message => {
    if (message.content.startsWith("*avatar")) {
        var mentionned = message.mentions.users.first();
    var x5bzm;
      if(mentionned){
          var x5bzm = mentionned;
      } else {
          var x5bzm = message.author;
          
      }
        const embed = new Discord.RichEmbed()
        .setColor("RANDOM")
        .setImage(`${x5bzm.avatarURL}`)
      message.channel.sendEmbed(embed);
    }
});

client.on('guildMemberAdd', member => {
    var embed = new Discord.RichEmbed()
    .setAuthor(member.user.username, member.user.avatarURL)
    .setThumbnail(member.user.avatarURL)
    .setTitle(`Ø¹Ø¶Ùˆ Ø¬Ø¯ÙŠØ¯`)
    .setDescription(`Ø§Ù‡Ù„Ø§ Ø¨Ùƒ ÙÙŠ Ø§Ù„Ø³ÙŠØ±ÙØ±`)
    .addField(' :bust_in_silhouette:  Ø§Ù†Øª Ø±Ù‚Ù…',`**[ ${member.guild.memberCount} ]**`,true)
    .setColor('GREEN')
    .setFooter('The King Bot', 'https://cdn.discordapp.com/icons/390551815072251904/418fa2788d8115808951c9881ba8f190.jpg')

var channel =member.guild.channels.find('name', 'wlc')
if (!channel) return;
channel.send({embed : embed});
});

client.on('guildMemberRemove', member => {
    var embed = new Discord.RichEmbed()
    .setAuthor(member.user.username, member.user.avatarURL)
    .setThumbnail(member.user.avatarURL)
    .setTitle(`Ø®Ø±Ø¬ Ø¹Ø¶Ùˆ`)
    .setDescription(`Ø§Ù„Ù‰ Ø§Ù„Ù„Ù‚Ø§Ø¡...`)
    .addField(':bust_in_silhouette:   ØªØ¨Ù‚ÙŠ',`**[ ${member.guild.memberCount} ]**`,true)
    .setColor('RED')
    .setFooter(`The King Bot`, '')

var channel =member.guild.channels.find('name', 'wlc')
if (!channel) return;
channel.send({embed : embed});
});



// Define client for Discord
const client = new Discord.Client();
// We have to define a moderator role, the name of a role you need to run certain commands
const modRole = 'Administrator';

// JSON Files
const items = JSON.parse(fs.readFileSync('items.json', 'utf8'));

// This will run when a message is recieved...
client.on('message', message => {

    // Variables
    let prefix = '~';
    let msg = message.content.toUpperCase();
    // Lets also add some new variables
    let cont = message.content.slice(prefix.length).split(" "); // This slices off the prefix, then stores everything after that in an array split by spaces.
    let args = cont.slice(1); // This removes the command part of the message, only leaving the words after it seperated by spaces

    // Commands

    // Buy Command - You can buy items with this.
    if (msg.startsWith(`${prefix}BUY`)) { // We need to make a JSON file that contains the items

        // Variables
        let categories = []; // Lets define categories as an empty array so we can add to it.

        // We want to make it so that if the item is not specified it shows a list of items
        if (!args.join(" ")) { // Run if no item specified...

            // First, we need to fetch all of the categories.
            for (var i in items) { // We can do this by creating a for loop.

                // Then, lets push the category to the array if it's not already in it.
                if (!categories.includes(items[i].type)) {
                    categories.push(items[i].type)
                }

            }

            // Now that we have the categories we can start the embed
            const embed = new Discord.RichEmbed()
                .setDescription(`Available Items`)
                .setColor(0xD4AF37)

            for (var i = 0; i < categories.length; i++) { // This runs off of how many categories there are. - MAKE SURE YOU DELETE THAT = IF YOU ADDED IT.

                var tempDesc = '';

                for (var c in items) { // This runs off of all commands
                    if (categories[i] === items[c].type) {

                        tempDesc += `${items[c].name} - $${items[c].price} - ${items[c].desc}\n`; // Remember that \n means newline

                    }

                }

                // Then after it adds all the items from that category, add it to the embed
                embed.addField(categories[i], tempDesc);

            }

            // Now we need to send the message, make sure it is out of the for loop.
            return message.channel.send({
                embed
            }); // Lets also return here.

            // Lets test it! x2

        }

        // Buying the item.

        // Item Info
        let itemName = '';
        let itemPrice = 0;
        let itemDesc = '';

        for (var i in items) { // Make sure you have the correct syntax for this.
            if (args.join(" ").trim().toUpperCase() === items[i].name.toUpperCase()) { // If item is found, run this...
                itemName = items[i].name;
                itemPrice = items[i].price;
                itemDesc = items[i].desc;
            }
        }

        // If the item wasn't found, itemName won't be defined
        if (itemName === '') {
            return message.channel.send(`**Item ${args.join(" ").trim()} not found.**`)
        }

        // Now, lets check if they have enough money.
        economy.fetchBalance(message.author.id + message.guild.id).then((i) => { // Lets fix a few errors - If you use the unique guild thing, do this.
            if (i.money <= itemPrice) { // It's supposed to be like this instead...

                return message.channel.send(`**You don't have enough money for this item.**`);
            }

            // The broken item can be placed here

            // Variables - You want to set these up
            let breakChance = 15; // This is a precentage out of 100
            let refundAmount = 50; // This is a precentage out of 99 - You can't give a full refund because of the way the money is handled.
            let breakMessage = '**Your item was broken during transport!**';

            // These generate the scenario
            let broken = Math.floor(Math.random() * (100 - 1 + 1) + 1); // This generates a random number between 1 - 100

            if (broken <= breakChance) { // Run this if the item was broken...

                    economy.updateBalance(message.author.id + message.guild.id, parseInt(`-${itemPrice}`) * `0.${refundAmount}`).then((i) => {  // This takes the item, multiples it by the refund amount percentage. So if an items was $100, 100 * .50 is 50.

                        // Send a message that their item was broken.
                        message.channel.send(breakMessage);

                    });

                    return; // Make sure we return when this is all over.

            }


            economy.updateBalance(message.author.id + message.guild.id, parseInt(`-${itemPrice}`)).then((i) => {

                message.channel.send('**You bought ' + itemName + '!**');

                // You can have IF statements here to run something when they buy an item.
                if (itemName === 'Helper Role') {
                    message.guild.members.get(message.author.id).addRole(message.guild.roles.find("name", "Helper")); // For example, when they buy the helper role it will give them the helper role.
                }

            })

        })

    }

    // Ping - Let's create a quick command to make sure everything is working!
    if (message.content.toUpperCase() === `${prefix}PING`) {
        message.channel.send('Pong!');
    }

    // Add / Remove Money For Admins
    if (msg.startsWith(`${prefix}ADDMONEY`)) {

        // Check if they have the modRole
        if (!message.member.roles.find("name", modRole)) { // Run if they dont have role...
            message.channel.send('**You need the role `' + modRole + '` to use this command...**');
            return;
        }

        // Check if they defined an amount
        if (!args[0]) {
            message.channel.send(`**You need to define an amount. Usage: ${prefix}BALSET <amount> <user>**`);
            return;
        }

        // We should also make sure that args[0] is a number
        if (isNaN(args[0])) {
            message.channel.send(`**The amount has to be a number. Usage: ${prefix}BALSET <amount> <user>**`);
            return; // Remember to return if you are sending an error message! So the rest of the code doesn't run.
        }

        // Check if they defined a user
        let defineduser = '';
        if (!args[1]) { // If they didn't define anyone, set it to their own.
            defineduser = message.author.id;
        } else { // Run this if they did define someone...
            let firstMentioned = message.mentions.users.first();
            defineduser = firstMentioned.id;
        }

        // Finally, run this.. REMEMBER IF you are doing the guild-unique method, make sure you add the guild ID to the end,
        economy.updateBalance(defineduser + message.guild.id, parseInt(args[0])).then((i) => { // AND MAKE SURE YOU ALWAYS PARSE THE NUMBER YOU ARE ADDING AS AN INTEGER
            message.channel.send(`**User defined had ${args[0]} added/subtraction from their account.**`)
        });

    }

    // Balance & Money
    if (msg === `${prefix}BALANCE` || msg === `${prefix}MONEY`) { // This will run if the message is either ~BALANCE or ~MONEY

        // Additional Tip: If you want to make the values guild-unique, simply add + message.guild.id whenever you request.
        economy.fetchBalance(message.author.id + message.guild.id).then((i) => { // economy.fetchBalance grabs the userID, finds it, and puts the data with it into i.
            // Lets use an embed for This
            const embed = new Discord.RichEmbed()
                .setDescription(`**${message.guild.name} Bank**`)
                .setColor(0xD4AF37) // You can set any HEX color if you put 0x before it.
                .addField('Account Holder', message.author.username, true) // The TRUE makes the embed inline. Account Holder is the title, and message.author is the value
                .addField('Account Balance', i.money, true)

            // Now we need to send the message
            message.channel.send({
                embed
            })

        })

    }

});

client.login(process.env.BOT_TOKEN);

var prefix = '*'
